flowchart LR
 subgraph HOME["HOME SCREEN"]
        H1["Displayed Elements: Search Bar, Enter Button, Become Partner Button"]
        H_DECISION{"User Action"}
        H_ENTER["Go to Map Screen (SearchQuery or empty)"]
        H_SB1["Typing, suggestions appear"]
        H_SB2["Click suggestion or press Enter"]
        H_SB3["Go to Map Screen with SearchQuery"]
        H_BP["Go to Partner Screen"]
  end
 subgraph PARTNER["PARTNER SCREEN"]
        P1["Displayed Elements: Search Bar, Instagram Search Bar, Contact Email Input, Plan Cards"]
        P_TITLE["User inputs POI title in Search Bar → selects/creates item"]
        P_INSTAGRAM["User inputs Instagram @ → selects/creates item"]
        P_EMAIL["User inputs contact email"]
        P_PLAN["User selects one Plan Card"]
        P_DECISION{"All Inputs Filled + Plan Selected?"}
        P_BACK["Return to Home Screen with state"]
        P_READY["Continue to Payment Button enabled. See It On Map Button visible"]
        P_PAY["Go to Confirm Payment Screen with PartnerInfo"]
        P_MAP_PRE["Go to Mock Map Screen Preview Mode"]
  end
 subgraph PAYMENT["CONFIRM PAYMENT SCREEN"]
        C0["Tabs: Credit Card | Pix | Boleto"]
        C_DECISION{"Selected Tab"}
        C_C1["Fill card info"]
        C_C2["Confirm Payment"]
        C_POP1["Popup: Payment Confirmed"]
        C_HOME1["Go to Home Screen"]
        C_P1["Copy QR Code + Confirm Payment"]
        C_B1["Download/Copy boleto + Confirm Payment"]
        C_BACK["Return to Partner Screen with state"]
  end
 subgraph MAP["MAP SCREEN"]
        M0["Displayed Elements: Map, Search Bar, Tags Bar, POIs Markers, Zoom, Advanced Search Button"]
        M_DECISION{"Map Action"}
        M_S1["Type, choose suggestion, Enter"]
        M_S2["Show Filtered POIs"]
        M_ERR["Popup: No Matches"]
        M_A1["Open Advanced Search Window"]
        M_A2["Back to Map with Filter Search"]
        M_A3["Reset filters"]
        M_A4["Close window"]
        M_POI["Open POI Full Card"]
        M_BACK["Return to Home"]
  end
 subgraph POICARD["POI FULL CARD"]
        PC1["Display POI Info + Scrollable Content"]
        PC_X["X Button (Close Full Card)"]
        PC_IMG["Main Image (Lightbox Trigger)"]
        PC_IMG_LB["Lightbox: Full-size Main Image"]
        PC_IMG_LB_X["Close Lightbox → Return to Full Card"]
        PC_LINK_SITE["Hyperlink: Website"]
        PC_LINK_IG["Hyperlink: Instagram"]
        PC_ARROW_L["Navigation Arrow Left"]
        PC_ARROW_R["Navigation Arrow Right"]
        PC_LATEST_BTN["See Latest Publications"]
        PC_LATEST_LB["Lightbox: Latest Publications Carousel"]
        PC_LATEST_LB_X["Close Publications Carousel"]
        PC_LATEST_LB_L["Prev Publication"]
        PC_LATEST_LB_R["Next Publication"]
        PC_BACK["Return to Map"]
  end
    START["START"] --> A0["Access Project URL"]
    H1 --> H_DECISION
    H_DECISION -- Click Enter --> H_ENTER
    H_DECISION -- Click Search Bar --> H_SB1
    H_SB1 --> H_SB2
    H_SB2 --> H_SB3
    H_DECISION -- Click Become Partner --> H_BP
    A0 --> H1
    P1 --> P_TITLE
    P_TITLE --> P_INSTAGRAM
    P_INSTAGRAM --> P_EMAIL
    P_EMAIL --> P_PLAN
    P_PLAN --> P_DECISION
    P1 -- Click Back --> P_BACK
    P_DECISION -- Yes --> P_READY
    P_READY -- Click Continue to Payment --> P_PAY
    P_READY -- Click See It On The Map --> P_MAP_PRE
    H_BP --> P1
    C0 --> C_DECISION
    C_DECISION -- Credit --> C_C1
    C_C1 --> C_C2
    C_C2 --> C_POP1
    C_POP1 --> C_HOME1
    C_DECISION -- Pix --> C_P1
    C_P1 --> C_POP1
    C_DECISION -- Boleto --> C_B1
    C_B1 --> C_POP1
    C0 -- Click Back --> C_BACK
    P_PAY --> C0
    M0 --> M_DECISION
    M_DECISION -- Search --> M_S1
    M_S1 --> M_S2
    M_DECISION -- Invalid Search --> M_ERR
    M_DECISION -- Click Advanced Search --> M_A1
    M_A1 -- Click Search --> M_A2
    M_A1 -- Cancel --> M_A3
    M_A1 -- Click X Button --> M_A4
    M_DECISION -- Click POI Marker --> M_POI
    M0 -- Back --> M_BACK
    H_ENTER --> M0
    H_SB3 --> M0
    P_MAP_PRE --> M0
    M_POI --> PC1
    PC1 --> PC_IMG & PC_LINK_SITE & PC_LINK_IG & PC_ARROW_L & PC_ARROW_R & PC_LATEST_BTN
    PC1 -- Click X Button --> PC_X
    PC_X --> PC_BACK
    PC_IMG --> PC_IMG_LB
    PC_IMG_LB --> PC_IMG_LB_X
    PC_IMG_LB_X --> PC1
    PC_ARROW_L --> M_POI
    PC_ARROW_R --> M_POI
    PC_LATEST_BTN --> PC_LATEST_LB
    PC_LATEST_LB L_PC_LATEST_LB_PC_LATEST_LB_X_0@--> PC_LATEST_LB_X & PC_LATEST_LB_L & PC_LATEST_LB_R
    PC_LATEST_LB_X --> PC1
    PC_BACK --> M0
    P_BACK --> H1
    C_BACK --> P1
    C_HOME1 --> END["END"]
    M_BACK --> H1

     H1:::screen
     H_DECISION:::user
     H_ENTER:::system
     H_SB1:::user
     H_SB2:::user
     H_SB3:::system
     H_BP:::system
     P1:::screen
     P_TITLE:::user
     P_INSTAGRAM:::user
     P_EMAIL:::user
     P_PLAN:::user
     P_DECISION:::user
     P_BACK:::system
     P_READY:::system
     P_PAY:::system
     P_MAP_PRE:::system
     C0:::screen
     C_DECISION:::user
     C_C1:::user
     C_C2:::user
     C_POP1:::system
     C_HOME1:::system
     C_P1:::user
     C_B1:::user
     C_BACK:::system
     M0:::screen
     M_DECISION:::user
     M_S1:::user
     M_S2:::system
     M_ERR:::system
     M_A1:::system
     M_A2:::system
     M_A3:::system
     M_A4:::system
     M_POI:::system
     M_BACK:::system
     PC1:::screen
     PC_X:::user
     PC_IMG:::user
     PC_IMG_LB:::screen
     PC_IMG_LB_X:::user
     PC_LINK_SITE:::user
     PC_LINK_IG:::user
     PC_ARROW_L:::user
     PC_ARROW_R:::user
     PC_LATEST_BTN:::user
     PC_LATEST_LB:::screen
     PC_LATEST_LB_X:::user
     PC_LATEST_LB_L:::user
     PC_LATEST_LB_R:::user
     PC_BACK:::user
     START:::event
     A0:::user
     END:::endNode
    classDef title font-size:28px,font-weight:bold
    classDef screen fill:#cce1ff,stroke:#2b6cb0,stroke-width:2px,color:#00264d
    classDef user fill:#d2ffd2,stroke:#3b9e3b,stroke-width:2px,color:#003000
    classDef system fill:#ffe9b8,stroke:#b89100,stroke-width:2px,color:#4a3c00
    classDef event fill:#eeeeee,stroke:#888,stroke-width:1px,color:#333
    classDef endNode fill:#f96,stroke:#333,stroke-width:2px
    classDef highlight stroke-width:3px,stroke:#ff00ff,animation:pulse 2s infinite
    style START font-size:18px
    style END font-size:18px

    L_PC_LATEST_LB_PC_LATEST_LB_X_0@{ animation: none } 

